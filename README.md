# AmoCrmWorker
Класс по работе с API AmoCRM.
На Данном этапе:

   1.  Можно добавлять пользователя или пользователей. 
   2.  Создавать Сделку и привязывать к ней пользоватея. 
   3.  Получать информацию об аккаунте. 
   4.  Получать информацию о всех контактах. 

 Тестовый вариант вы можете  увидеть просто  распаковав репозиторий у себя и запустить его.
 Вся логика  по работе с классом для выпонления поставленой задачи хранится в файле formworker.php
 Более детально:
    Всё что отвечает за работу с AmoCRM лежит в папке Class:


1. AccountInfo - класс по работе с данными  авторизованного аккаунта (расширение на будущее) .
     Конструктор класса принимает в себя Экземпяр класса Auth, авторизацию можно вызвать так же с следующих классов Contact,Leads - это сделано с целью упростить работу с классами.
      На данном этапе содержит 1 метод ( не считая родительских):
```
    GetInfo() - возвращает Array() -  в котором  указаны вся полезная информация об аккаунте, о статусах и id сделок, и т.п. 

```

2. Auth - Класс авторизации - класс отвечающий за авторизацию аккаунта.
    Конструктор класса принимает в себя:
```
        1. $userLogin -  ваш логин в AmoCRM  
        2. $userHash - выш хэш  (см в аккаунте) 
        3. $subDomain - ваш субдомен(см в аккаунте) 
```
Содерит 1 публичный метод:
```
getAuth() - Авторизация  - если не удаестя авторизоватся выбросит exeption() в json формате.
```
3. ClassWorker - абстрактный класс   который является родителем класса Auth().
      Так как класс абстрактный вызов конструктора  приведет к ошибке, не рекомендуется делать.
      Содежрит в себе основной скелет функций. Не рекомендую что либо менять в нём или вызывать функции напрямую.     
4. Contact - класс по работе с контактами (можно расширять).
       Конструктор класса принимает в себя:  
```
        1. $auth -  Экземпляр класса Auth
        2. $nameContact - Имя контакта 
        3. $telContact - телефон контакта 
        4. $mailContact - почта контакта 
```    
На данном этапе содержит в себе несколько методов по работе с контактами?
```
    1. getContacts() - возвращает список всех контактов которые  есть в данном аккаунте.
    2. addContacts() - добавляет контакт (данные передаются в конструкторе класса).
    3. Статическая функция GetIdContacts($Contact) - возвращает ID  переданного контакта.
```
5. Leads - Класс  работы с сделками.
   Конструктор класса принимает в себя:
```
        1. $auth -  Экземпляр класса Auth
        2. $price - Стоимость услуги
        3. $contact - Массив с контактов
```
Имеет несколько методов:
```
    1. getLids() - получить список всех сделок.
    2. addLeads(string $title) - добавить новую задачу (на данном этапе задача  привязывается к созданному контакту а так же  статичный статус)
        
```

Эти классы можно расширить и добавить  другие функции, пересмотреть логику и  и конструкторы для решения разных задач.
      
       
        
      
  
          
